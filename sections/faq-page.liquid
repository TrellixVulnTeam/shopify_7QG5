<section id="faqs_page">
  {% if section.settings.des_faqs != blank %}
  <div class="des_faqs">
    <div class="wrapper">
      {% render 'multilang' with section.settings.des_faqs %}
    </div>
  </div>
{% endif %}
  <div class="row faqs_page-wrapper">
    {% if section.settings.show_faq_help %}
    <div class="left-column col-md-3 col-lg-3 col-xl-3">
          <div class="wrapper-left-title">
            {% if section.settings.faq_help_title != blank %}
              <h3 class="heading">
                {% render 'multilang' with  section.settings.faq_help_title %}
              </h3>
            {% endif %}

            <div class="need-help">
              {% if section.settings.chat_link_text != blank %}
                <a class="chat-link" href="{{section.settings.chat_link}}" title="{{section.settings.chat_link_text}}">
                 {% render 'facebook-messenger-icon' %}

                  <span class="link_text">
                    {% render 'multilang' with  section.settings.chat_link_text %}
                  </span>
                </a>
              {% endif %}

              {% if section.settings.contact_link_text != blank %}
                <a class="contact-link" href="{{section.settings.contact_link}}" title="{{section.settings.contact_link_text}}">
                  <i class="fa fa-envelope-o"></i>

                  <span class="link_text">
                    {% render 'multilang' with  section.settings.contact_link_text %}
                  </span>
                </a>
              {% endif %}
            </div>
          </div>
    </div>
    {% endif %}
    <div class="right-column col-md-9 col-lg-9 col-xl-9 {% if section.settings.show_faq_help %}has-col-left{% else %}no-col-left{% endif %}">
      {% if section.settings.show_question_faqs_type_1 %}
        {% if section.settings.question_faqs_type_1_title != blank %}
          <h3 class="question-type-heading">
            {% render 'multilang' with section.settings.question_faqs_type_1_title %}
          </h3>
        {% endif %}
        <div class="panel-group">
          {% for block in section.blocks %}
            {% if block.settings.faq_type == '1' %}
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h4 class="panel-title">
                    <a class="collapsed" data-toggle="collapse" href="#faqs-{{block.id}}" >
                      {% render 'multilang' with block.settings.question_faqs %}
                    </a>
                  </h4>    
                </div>
                <div id="faqs-{{block.id}}" class="panel-collapse collapse">
                  <div class="panel-body">
                    {% if settings.enable_multilang and block.settings.answer_faqs contains '|' %}
                    <div class="lang1">
                      {{ block.settings.answer_faqs | split: '|' | first }}
                    </div>
                    <div class="lang2">
                      {{ block.settings.answer_faqs | split: '|' | last }}
                    </div>
                    {% else %}
                    <div>
                      {{ block.settings.answer_faqs | split: '|' | first }}
                    </div>
                    {% endif %}
                  </div>
                </div>
              </div>
            {% endif %}

          {% endfor %}
        </div>
      {% endif %}

      {% if section.settings.show_question_faqs_type_2 %}
        {% if section.settings.question_faqs_type_2_title != blank %}
          <h3 class="question-type-heading">
            {% render 'multilang' with section.settings.question_faqs_type_2_title %}
          </h3>
        {% endif %}
        <div class="panel-group">
          {% for block in section.blocks %}
            {% if block.settings.faq_type == '2' %}
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h4 class="panel-title">
                    <a class="collapsed" data-toggle="collapse" href="#faqs-{{block.id}}" >
                      {% render 'multilang' with block.settings.question_faqs %}
                    </a>
                  </h4>    
                </div>
                <div id="faqs-{{block.id}}" class="panel-collapse collapse">
                  <div class="panel-body">
                    {% if settings.enable_multilang and block.settings.answer_faqs contains '|' %}
                    <div class="lang1">
                      {{ block.settings.answer_faqs | split: '|' | first }}
                    </div>
                    <div class="lang2">
                      {{ block.settings.answer_faqs | split: '|' | last }}
                    </div>
                    {% else %}
                    <div>
                      {{ block.settings.answer_faqs | split: '|' | first }}
                    </div>
                    {% endif %}
                  </div>
                </div>
              </div>
            {% endif %}
          {% endfor %}
        </div>
      {% endif %}

      {% if section.settings.show_faq_contact %}
        <div class="contact-link">
          {% if section.settings.contact_text != blank %}
          <span class="text">
            {% render 'multilang' with section.settings.contact_text  %}
          </span>
          {% endif %}
          {% if section.settings.contact_support_link_text != blank %}
          <a href="{{ section.settings.contact_link }}" class="btn">
            {% render 'multilang' with section.settings.contact_support_link_text  %}
          </a>
          {% endif %}
        </div>
        {% endif %}

    </div>
  </div>
</section>
<style>
  .faqs-page .right-column .question-type-heading {
      font-size: {{ section.settings.question_faqs_font_size }};
  }
  .faqs-page .panel-group .panel-title {
  	font-size: {{ section.settings.font_size_qs }};
  }
  
  .faqs-page .panel-group .panel-title > a {
    color: {{ section.settings.color_question }};
    
  }
  .faqs-page .panel-group .panel-title > a.collapsed {
    border-bottom: 1px solid {{ section.settings.color_question | color_modify: 'alpha', 0.8}};
  }

  .faqs-page .panel-group .panel-title > a:before {
     background: {{ section.settings.color_question_acitve }};
  }
  .faqs-page .panel-group .panel-title > a.collapsed:before,
  .faqs-page .panel-group .panel-title > a.collapsed:after {
    background: {{ section.settings.color_question }};
  }

  .faqs-page .panel-group .panel-title > a:not(.collapsed) {
    color: {{ section.settings.color_question_acitve }};
  }
  
  .faqs-page .panel-group .panel-body {
  	font-size: {{ section.settings.font_size_answer }};
    color: {{ section.settings.color_question_answer }};
    border-top: 2px solid {{ section.settings.color_question_acitve }};
    border-bottom: 1px solid {{ section.settings.color_question_acitve }};
  }
    
  .faqs-page .panel-group .des_faqs a,
  .faqs-page .panel-group .panel-body a {
    color: {{ section.settings.color_question_link }};
    background-image: linear-gradient(transparent 97%, {{ section.settings.color_question_link }} 3%);
    background-repeat: repeat-x;
    background-position-y: -1px;
  }
</style>

{% schema %}
  {
    "name": "FAQS Page",
    "settings": [
      {
       "type": "textarea",
       "id" : "des_faqs",
       "label" : "Description"
      },
      {
        "type": "header",
        "content": "Need Help"
      },
      {
        "type" : "checkbox",
        "id" : "show_faq_help",
        "label" : "Show Need Help?",
        "default": true
      },
      {
       "type" : "text",
       "id" : "faq_help_title",
       "label" : "Need Help Title",
       "default" : "Need Help?"
      },
      {
       "type" : "text",
       "id" : "chat_link_text",
       "label" : "Chat Link Text",
       "default" : "Message Us"
      },
      {
       "type" : "url",
       "id" : "chat_link",
       "label" : "Chat Link"
      },
      {
       "type" : "text",
       "id" : "contact_link_text",
       "label" : "Contact Link Text",
       "default" : "Contact Us"
      },
      {
       "type" : "url",
       "id" : "contact_link",
       "label" : "Contact Link"
      },
      {
        "type": "header",
        "content": "FAQS Question"
      },
      {
        "type" : "checkbox",
        "id" : "show_question_faqs_type_1",
        "label" : "Show FAQS Question Type 1",
        "default": true
      },
      {
        "type" : "text",
        "id" : "question_faqs_type_1_title",
        "label" : "FAQS Question Type 1 Title"
      },
      {
        "type" : "checkbox",
        "id" : "show_question_faqs_type_2",
        "label" : "Show FAQS Question Type 2",
        "default": true
      },
      {
        "type" : "text",
        "id" : "question_faqs_type_2_title",
        "label" : "FAQS Question Type 2 Title"
      },
      {
        "type" : "text",
        "id" : "question_faqs_font_size",
        "label" : "Title Font Size",
        "default": "14px"
      },
      {
        "type": "header",
        "content": "Question"
      },
      {
       "type" : "color",
       "id" : "color_question",
       "label" : "Color Question",
       "default" : "#0f0f0f"
      },
	  {
       "type" : "text",
       "id" : "font_size_qs",
       "label" : "Font size Question",
       "default" : "12px",
       "info": "Default 12px"
      },
      {
       "type" : "color",
       "id" : "color_question_acitve",
       "label" : "Color Question Active",
       "default" : "#0f0f0f"
      },
     {
        "type": "header",
        "content": "Answer"
      },     
      {
       "type" : "color",
       "id" : "color_question_answer",
       "label" : "Color Answer",
       "default" : "#5f5f5f"
      },
	  {
       "type" : "text",
       "id" : "font_size_answer",
       "label" : "Font size Answer",
       "default" : "12px",
       "info": "Default 12px"
      },
      {
       "type" : "color",
       "id" : "color_question_link",
       "label" : "Color Link",
       "default" : "#5f5f5f"
      },
      {
        "type": "header",
        "content": "Contact Support"
      }, 
      {
       "type" : "checkbox",
       "id" : "show_faq_contact",
       "label" : "Show Contact Support",
       "default": true
      },
     {
       "type" : "textarea",
       "id" : "contact_text",
       "label" : "Contact Text",
       "default" : "Unable to find satisfactory answers ?"
      },
     {
       "type" : "textarea",
       "id" : "contact_support_link_text",
       "label" : "Contact Link Text",
       "default" : "Contact Support"
      },
      {
        "type" : "url",
        "id" : "contact_support_link",
        "label" : "Contact link"
      }
    ],
    "blocks": [
      {
        "type" : "text",
        "name" : "Question",
        "settings":[
          {
            "type" : "textarea",
            "id" : "question_faqs",
            "label" : "Question"
          },
          {
            "type" : "textarea",
            "id" : "answer_faqs",
            "label" : "Answer"
          },
          {
            "type": "select",
            "id": "faq_type",
            "label": "Faq Type",
            "options": [
                {
                    "value": "1",
                    "label": "1"
                },
                {
                    "value": "2",
                    "label": "2"
                }
            ],
            "default": "1"
          }
        ]
      }
    ]
  }
{% endschema %}